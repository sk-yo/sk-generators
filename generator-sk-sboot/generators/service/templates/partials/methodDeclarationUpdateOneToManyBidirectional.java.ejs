
<%_  if(attr.multiplicity === 'OneToMany'  && attr.navegability === 'bidirectional' && !attr.hasCascade) { -%>
	/**
	 * Atualiza o relacionamento bidirecional OneToMany entre <%= domainClass.name %> e <%= attr.relationship.name %>
	 * 
	 */
	private void update<%= _.upperFirst(attr.name) %>(<%= domainClass.name %> <%= domainClass.instanceName %>, <%= domainClass.name %> new<%= domainClass.name %>) {
		// @formatter:off
		new<%= domainClass.name %>.<%= attr.getterName %>().stream()
			.forEach(<%= attr.singularizedName %> -> {
				<%= domainClass.instanceName %>.<%= attr.getterName %>().add(<%= _.lowerFirst(attr.relationship.name) %>Repository.findOne(<%= attr.singularizedName %>.getId()));
				<%= _.lowerFirst(attr.relationship.name) %>.set<%= domainClass.name %>(<%= domainClass.instanceName %>);
			});
		// @formatter:on				
	}
<%_ } _%>